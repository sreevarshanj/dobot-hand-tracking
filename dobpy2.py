from serial.tools import list_ports
import time
import pydobot
import numpy as np
import cv2
import time
import mediapipe as mp
import HandTrackModule as htm
import math

def LengthDetect(lmList):
    x1,y1=lmList[4][1],lmList[4][2]
    x2,y2=lmList[8][1],lmList[8][2]
    #cv2.circle(img,(lmList[0][1:]),15,(255,255,0),-1)
    length=math.hypot(x2-x1,y2-y1)
    if length<15:
        return True
    else:
        return False
def MoveX(lmList):
    x1,y1=lmList[16][1],lmList[16][2]
    x2,y2=lmList[0][1],lmList[0][2]
    #cv2.circle(img,(lmList[0][1:]),15,(255,255,0),-1)
    length=math.hypot(x2-x1,y2-y1)
    return length

available_ports = list_ports.comports()
print(f'available ports: {[x.device for x in available_ports]}')
port = "COM3" #Front CPU COM3
dx={30: -145.0, 31: -144.39306358381504, 32: -143.78612716763007, 33: -143.17919075144508, 34: -142.5722543352601, 35: -141.96531791907515, 36: -141.35838150289018, 37: -140.7514450867052, 38: -140.14450867052022, 39: -139.53757225433526, 40: -138.9306358381503, 41: -138.32369942196533, 42: -137.71676300578034, 43: -137.10982658959537, 44: -136.5028901734104, 45: -135.89595375722544, 46: -135.28901734104045, 47: -134.68208092485548, 48: -134.07514450867052, 49: -133.46820809248555, 50: -132.8612716763006, 51: -132.2543352601156, 52: -131.64739884393063, 53: -131.04046242774567, 54: -130.4335260115607, 55: -129.8265895953757, 56: -129.21965317919074, 57: -128.61271676300578, 58: -128.0057803468208, 59: -127.39884393063583, 60: -126.79190751445087, 61: -126.18497109826589, 62: -125.57803468208093, 63: -124.97109826589596, 64: -124.36416184971098, 65: -123.757225433526, 66: -123.15028901734104, 67: -122.54335260115607, 68: -121.9364161849711, 69: -121.32947976878613, 70: -120.72254335260115, 71: -120.11560693641619, 72: -119.50867052023122, 73: -118.90173410404624, 74: -118.29479768786128, 75: -117.6878612716763, 76: -117.08092485549133, 77: -116.47398843930635, 78: -115.86705202312139, 79: -115.26011560693641, 80: -114.65317919075144, 81: -114.04624277456648, 82: -113.4393063583815, 83: -112.83236994219652, 84: -112.22543352601156, 85: -111.61849710982659, 86: -111.01156069364163, 87: -110.40462427745665, 88: -109.79768786127167, 89: -109.1907514450867, 90: -108.58381502890174, 91: -107.97687861271676, 92: -107.3699421965318, 93: -106.76300578034682, 94: -106.15606936416185, 95: -105.54913294797689, 96: -104.94219653179191, 97: -104.33526011560693, 98: -103.72832369942196, 99: -103.121387283237, 100: -102.51445086705202, 101: -101.90751445086705, 102: -101.30057803468208, 103: -100.69364161849711, 104: -100.08670520231215, 105: -99.47976878612717, 106: -98.87283236994219, 107: -98.26589595375722, 108: -97.65895953757226, 109: -97.0520231213873, 110: -96.44508670520231, 111: -95.83815028901734, 112: -95.23121387283237, 113: -94.6242774566474, 114: -94.01734104046243, 115: -93.41040462427745, 116: -92.80346820809248, 117: -92.19653179190752, 118: -91.58959537572255, 119: -90.98265895953757, 120: -90.3757225433526, 121: -89.76878612716763, 122: -89.16184971098266, 123: -88.55491329479769, 124: -87.9479768786127, 125: -87.34104046242774, 126: -86.73410404624278, 127: -86.12716763005781, 128: -85.52023121387283, 129: -84.91329479768785, 130: -84.30635838150289, 131: -83.69942196531792, 132: -83.09248554913295, 133: -82.48554913294798, 134: -81.878612716763, 135: -81.27167630057804, 136: -80.66473988439306, 137: -80.05780346820809, 138: -79.45086705202313, 139: -78.84393063583815, 140: -78.23699421965318, 141: -77.6300578034682, 142: -77.02312138728324, 143: -76.41618497109826, 144: -75.8092485549133, 145: -75.20231213872832, 146: -74.59537572254335, 147: -73.98843930635839, 148: -73.38150289017341, 149: -72.77456647398844, 150: -72.16763005780346, 151: -71.5606936416185, 152: -70.95375722543352, 153: -70.34682080924856, 154: -69.73988439306359, 155: -69.13294797687861, 156: -68.52601156069365, 157: -67.91907514450867, 158: -67.3121387283237, 159: -66.70520231213872, 160: -66.09826589595376, 161: -65.49132947976878, 162: -64.88439306358381, 163: -64.27745664739885, 164: -63.67052023121387, 165: -63.063583815028906, 166: -62.45664739884393, 167: -61.84971098265896, 168: -61.24277456647398, 169: -60.63583815028902, 170: -60.02890173410404, 171: -59.421965317919074, 172: -58.81502890173411, 173: -58.20809248554913, 174: -57.601156069364166, 175: -56.99421965317919, 176: -56.38728323699422, 177: -55.78034682080924, 178: -55.17341040462428, 179: -54.56647398843931, 180: -53.959537572254334, 181: -53.35260115606937, 182: -52.74566473988439, 183: -52.138728323699425, 184: -51.531791907514446, 185: -50.92485549132948, 186: -50.3179190751445, 187: -49.71098265895954, 188: -49.10404624277457, 189: -48.49710982658959, 190: -47.89017341040463, 191: -47.28323699421965, 192: -46.676300578034684, 193: -46.069364161849705, 194: -45.46242774566474, 195: -44.855491329479776, 196: -44.2485549132948, 197: -43.64161849710983, 198: -43.03468208092485, 199: -42.42774566473989, 200: -41.82080924855491, 201: -41.213872832369944, 202: -40.606936416184965, 203: -40.0, 204: -39.393063583815035, 205: -38.786127167630056, 206: -38.17919075144509, 207: -37.57225433526011, 208: -36.96531791907515, 209: -36.35838150289017, 210: -35.7514450867052, 211: -35.144508670520224, 212: -34.53757225433526, 213: -33.930635838150295, 214: -33.323699421965316, 215: -32.71676300578035, 216: -32.10982658959537, 217: -31.502890173410407, 218: -30.895953757225428, 219: -30.289017341040463, 220: -29.682080924855498, 221: -29.07514450867052, 222: -28.468208092485554, 223: -27.861271676300575, 224: -27.25433526011561, 225: -26.64739884393063, 226: -26.040462427745666, 227: -25.433526011560687, 228: -24.826589595375722, 229: -24.219653179190757, 230: -23.61271676300578, 231: -23.005780346820814, 232: -22.398843930635834, 233: -21.79190751445087, 234: -21.18497109826589, 235: -20.578034682080926, 236: -19.97109826589596, 237: -19.36416184971098, 238: -18.757225433526017, 239: -18.150289017341038, 240: -17.543352601156073, 241: -16.936416184971108, 242: -16.329479768786115, 243: -15.72254335260115, 244: -15.115606936416185, 245: -14.50867052023122, 246: -13.901734104046255, 247: -13.294797687861262, 248: -12.687861271676297, 249: -12.080924855491332, 250: -11.473988439306368, 251: -10.867052023121374, 252: -10.26011560693641, 253: -9.653179190751445, 254: -9.04624277456648, 255: -8.439306358381515, 256: -7.832369942196522, 257: -7.225433526011557, 258: -6.618497109826592, 259: -6.011560693641627, 260: -5.404624277456634, 261: -4.797687861271669, 262: -4.190751445086704, 263: -3.583815028901739, 264: -2.9768786127167743, 265: -2.369942196531781, 266: -1.7630057803468162, 267: -1.1560693641618514, 268: -0.5491329479768865, 269: 0.05780346820807836, 270: 0.6647398843930716, 271: 1.2716763005780365, 272: 1.8786127167630013, 273: 2.485549132947966, 274: 3.0924855491329595, 275: 3.6994219653179243, 276: 4.306358381502889, 277: 4.913294797687854, 278: 5.520231213872819, 279: 6.127167630057812, 280: 6.734104046242777, 281: 7.341040462427742, 282: 7.947976878612707, 283: 8.5549132947977, 284: 9.161849710982665, 285: 9.76878612716763, 286: 10.375722543352595, 287: 10.98265895953756, 288: 11.589595375722553, 289: 12.196531791907518, 290: 12.803468208092482, 291: 13.410404624277447, 292: 14.01734104046244, 293: 14.624277456647405, 294: 15.23121387283237, 295: 15.838150289017335, 296: 16.4450867052023, 297: 17.052023121387293, 298: 17.658959537572258, 299: 18.265895953757223, 300: 18.872832369942188, 301: 19.47976878612718, 302: 20.086705202312146, 303: 20.69364161849711, 304: 21.300578034682076, 305: 21.90751445086704, 306: 22.514450867052034, 307: 23.121387283237, 308: 23.728323699421964, 309: 24.33526011560693, 310: 24.94219653179192, 311: 25.549132947976886, 312: 26.15606936416185, 313: 26.763005780346816, 314: 27.36994219653178, 315: 27.976878612716774, 316: 28.58381502890174, 317: 29.190751445086704, 318: 29.79768786127167, 319: 30.404624277456634, 320: 31.011560693641627, 321: 31.618497109826592, 322: 32.22543352601156, 323: 32.83236994219652, 324: 33.439306358381515, 325: 34.04624277456648, 326: 34.653179190751445, 327: 35.26011560693641, 328: 35.867052023121374, 329: 36.47398843930637, 330: 37.08092485549133, 331: 37.6878612716763, 332: 38.29479768786126, 333: 38.901734104046255, 334: 39.50867052023122, 335: 40.115606936416185, 336: 40.72254335260115, 337: 41.329479768786115, 338: 41.93641618497111, 339: 42.54335260115607, 340: 43.15028901734104, 341: 43.757225433526, 342: 44.364161849710996, 343: 44.97109826589596, 344: 45.578034682080926, 345: 46.18497109826589, 346: 46.791907514450855, 347: 47.39884393063585, 348: 48.00578034682081, 349: 48.61271676300578, 350: 49.21965317919074, 351: 49.82658959537574, 352: 50.4335260115607, 353: 51.040462427745666, 354: 51.64739884393063, 355: 52.254335260115596, 356: 52.86127167630059, 357: 53.468208092485554, 358: 54.07514450867052, 359: 54.682080924855484, 360: 55.28901734104045, 361: 55.89595375722544, 362: 56.50289017341041, 363: 57.10982658959537, 364: 57.71676300578034, 365: 58.32369942196533, 366: 58.930635838150295, 367: 59.53757225433526, 368: 60.144508670520224, 369: 60.75144508670519, 370: 61.35838150289018, 371: 61.96531791907515, 372: 62.57225433526011, 373: 63.17919075144508, 374: 63.78612716763007, 375: 64.39306358381504, 376: 65.0, 377: 65.60693641618496, 378: 66.21387283236993, 379: 66.82080924855492, 380: 67.42774566473989, 381: 68.03468208092485, 382: 68.64161849710982, 383: 69.24855491329481, 384: 69.85549132947978, 385: 70.46242774566474, 386: 71.0693641618497, 387: 71.67630057803467, 388: 72.28323699421966, 389: 72.89017341040463, 390: 73.4971098265896, 391: 74.10404624277456, 392: 74.71098265895955, 393: 75.31791907514452, 394: 75.92485549132948, 395: 76.53179190751445, 396: 77.13872832369941, 397: 77.7456647398844, 398: 78.35260115606937, 399: 78.95953757225433, 400: 79.5664739884393, 401: 80.17341040462426, 402: 80.78034682080926, 403: 81.38728323699422, 404: 81.99421965317919, 405: 82.60115606936415, 406: 83.20809248554914, 407: 83.81502890173411, 408: 84.42196531791907, 409: 85.02890173410404, 410: 85.635838150289, 411: 86.242774566474, 412: 86.84971098265896, 413: 87.45664739884393, 414: 88.06358381502889, 415: 88.67052023121389, 416: 89.27745664739885, 417: 89.88439306358381, 418: 90.49132947976878, 419: 91.09826589595374, 420: 91.70520231213874, 421: 92.3121387283237, 422: 92.91907514450867, 423: 93.52601156069363, 424: 94.13294797687863, 425: 94.73988439306359, 426: 95.34682080924856, 427: 95.95375722543352, 428: 96.56069364161849, 429: 97.16763005780348, 430: 97.77456647398844, 431: 98.38150289017341, 432: 98.98843930635837, 433: 99.59537572254337, 434: 100.20231213872833, 435: 100.8092485549133, 436: 101.41618497109826, 437: 102.02312138728323, 438: 102.63005780346822, 439: 103.23699421965318, 440: 103.84393063583815, 441: 104.45086705202311, 442: 105.05780346820808, 443: 105.66473988439307, 444: 106.27167630057804, 445: 106.878612716763, 446: 107.48554913294797, 447: 108.09248554913296, 448: 108.69942196531792, 449: 109.30635838150289, 450: 109.91329479768785, 451: 110.52023121387282, 452: 111.12716763005778, 453: 111.73410404624275, 454: 112.34104046242777, 455: 112.94797687861274, 456: 113.5549132947977, 457: 114.16184971098266, 458: 114.76878612716763, 459: 115.3757225433526, 460: 115.98265895953756, 461: 116.58959537572252, 462: 117.19653179190749, 463: 117.80346820809251, 464: 118.41040462427748, 465: 119.01734104046244, 466: 119.6242774566474, 467: 120.23121387283237, 468: 120.83815028901734, 469: 121.4450867052023, 470: 122.05202312138726, 471: 122.65895953757223, 472: 123.26589595375725, 473: 123.87283236994222, 474: 124.47976878612718, 475: 125.08670520231215, 476: 125.69364161849711, 477: 126.30057803468208, 478: 126.90751445086704, 479: 127.514450867052, 480: 128.12138728323697, 481: 128.728323699422, 482: 129.33526011560696, 483: 129.94219653179192, 484: 130.5491329479769, 485: 131.15606936416185, 486: 131.76300578034682, 487: 132.36994219653178, 488: 132.97687861271675, 489: 133.5838150289017, 490: 134.19075144508673, 491: 134.7976878612717, 492: 135.40462427745666, 493: 136.01156069364163, 494: 136.6184971098266, 495: 137.22543352601156, 496: 137.83236994219652, 497: 138.4393063583815, 498: 139.04624277456645, 499: 139.65317919075147, 500: 140.26011560693644, 501: 140.8670520231214, 502: 141.47398843930637, 503: 142.08092485549133, 504: 142.6878612716763, 505: 143.29479768786126, 506: 143.90173410404623, 507: 144.5086705202312, 508: 145.11560693641616, 509: 145.72254335260118, 510: 146.32947976878614, 511: 146.9364161849711, 512: 147.54335260115607, 513: 148.15028901734104, 514: 148.757225433526, 515: 149.36416184971097, 516: 149.97109826589593, 517: 150.5780346820809, 518: 151.18497109826592, 519: 151.79190751445088, 520: 152.39884393063585, 521: 153.0057803468208, 522: 153.61271676300578, 523: 154.21965317919074, 524: 154.8265895953757, 525: 155.43352601156067, 526: 156.04046242774564, 527: 156.64739884393066, 528: 157.25433526011562, 529: 157.8612716763006, 530: 158.46820809248555, 531: 159.07514450867052, 532: 159.68208092485548, 533: 160.28901734104045, 534: 160.8959537572254, 535: 161.50289017341038, 536: 162.1098265895954, 537: 162.71676300578036, 538: 163.32369942196533, 539: 163.9306358381503, 540: 164.53757225433526, 541: 165.14450867052022, 542: 165.7514450867052, 543: 166.35838150289015, 544: 166.96531791907512, 545: 167.57225433526014, 546: 168.1791907514451, 547: 168.78612716763007, 548: 169.39306358381504, 549: 170.0}
dy={60: 131.0, 61: 130.47117794486215, 62: 129.9423558897243, 63: 129.41353383458647, 64: 128.88471177944862, 65: 128.35588972431077, 66: 127.82706766917293, 67: 127.29824561403508, 68: 126.76942355889724, 69: 126.2406015037594, 70: 125.71177944862156, 71: 125.1829573934837, 72: 124.65413533834587, 73: 124.12531328320802, 74: 123.59649122807018, 75: 123.06766917293233, 76: 122.53884711779449, 77: 122.01002506265664, 78: 121.4812030075188, 79: 120.95238095238095, 80: 120.42355889724311, 81: 119.89473684210526, 82: 119.36591478696742, 83: 118.83709273182957, 84: 118.30827067669173, 85: 117.77944862155388, 86: 117.25062656641605, 87: 116.7218045112782, 88: 116.19298245614036, 89: 115.6641604010025, 90: 115.13533834586467, 91: 114.60651629072682, 92: 114.07769423558898, 93: 113.54887218045113, 94: 113.02005012531328, 95: 112.49122807017544, 96: 111.9624060150376, 97: 111.43358395989975, 98: 110.9047619047619, 99: 110.37593984962406, 100: 109.84711779448622, 101: 109.31829573934837, 102: 108.78947368421052, 103: 108.26065162907268, 104: 107.73182957393485, 105: 107.203007518797, 106: 106.67418546365914, 107: 106.1453634085213, 108: 105.61654135338345, 109: 105.08771929824562, 110: 104.55889724310777, 111: 104.03007518796993, 112: 103.50125313283208, 113: 102.97243107769424, 114: 102.44360902255639, 115: 101.91478696741855, 116: 101.3859649122807, 117: 100.85714285714286, 118: 100.32832080200501, 119: 99.79949874686717, 120: 99.27067669172932, 121: 98.74185463659148, 122: 98.21303258145363, 123: 97.68421052631578, 124: 97.15538847117794, 125: 96.6265664160401, 126: 96.09774436090225, 127: 95.5689223057644, 128: 95.04010025062657, 129: 94.51127819548873, 130: 93.98245614035088, 131: 93.45363408521303, 132: 92.92481203007519, 133: 92.39598997493735, 134: 91.8671679197995, 135: 91.33834586466165, 136: 90.80952380952381, 137: 90.28070175438597, 138: 89.75187969924812, 139: 89.22305764411027, 140: 88.69423558897243, 141: 88.1654135338346, 142: 87.63659147869674, 143: 87.10776942355889, 144: 86.57894736842105, 145: 86.05012531328322, 146: 85.52130325814537, 147: 84.99248120300751, 148: 84.46365914786968, 149: 83.93483709273184, 150: 83.40601503759399, 151: 82.87719298245614, 152: 82.34837092731829, 153: 81.81954887218045, 154: 81.29072681704261, 155: 80.76190476190476, 156: 80.23308270676691, 157: 79.70426065162907, 158: 79.17543859649123, 159: 78.64661654135338, 160: 78.11779448621553, 161: 77.58897243107769, 162: 77.06015037593986, 163: 76.531328320802, 164: 76.00250626566415, 165: 75.47368421052632, 166: 74.94486215538848, 167: 74.41604010025063, 168: 73.88721804511277, 169: 73.35839598997494, 170: 72.8295739348371, 171: 72.30075187969925, 172: 71.7719298245614, 173: 71.24310776942356, 174: 70.71428571428572, 175: 70.18546365914787, 176: 69.65664160401002, 177: 69.12781954887218, 178: 68.59899749373434, 179: 68.0701754385965, 180: 67.54135338345864, 181: 67.0125313283208, 182: 66.48370927318295, 183: 65.95488721804512, 184: 65.42606516290726, 185: 64.89724310776943, 186: 64.36842105263158, 187: 63.83959899749374, 188: 63.310776942355886, 189: 62.78195488721805, 190: 62.2531328320802, 191: 61.72431077694236, 192: 61.19548872180451, 193: 60.66666666666667, 194: 60.13784461152882, 195: 59.60902255639098, 196: 59.08020050125313, 197: 58.551378446115294, 198: 58.02255639097744, 199: 57.493734335839605, 200: 56.96491228070175, 201: 56.436090225563916, 202: 55.907268170426065, 203: 55.37844611528823, 204: 54.849624060150376, 205: 54.32080200501254, 206: 53.79197994987469, 207: 53.263157894736835, 208: 52.734335839599, 209: 52.20551378446115, 210: 51.67669172932331, 211: 51.14786967418546, 212: 50.61904761904762, 213: 50.09022556390977, 214: 49.56140350877193, 215: 49.03258145363408, 216: 48.50375939849624, 217: 47.97493734335839, 218: 47.446115288220554, 219: 46.9172932330827, 220: 46.388471177944865, 221: 45.859649122807014, 222: 45.330827067669176, 223: 44.802005012531325, 224: 44.27318295739349, 225: 43.744360902255636, 226: 43.2155388471178, 227: 42.68671679197995, 228: 42.15789473684211, 229: 41.62907268170426, 230: 41.10025062656642, 231: 40.57142857142857, 232: 40.04260651629073, 233: 39.51378446115288, 234: 38.98496240601504, 235: 38.45614035087719, 236: 37.927318295739354, 237: 37.3984962406015, 238: 36.869674185463666, 239: 36.340852130325814, 240: 35.81203007518798, 241: 35.283208020050125, 242: 34.754385964912274, 243: 34.225563909774436, 244: 33.696741854636585, 245: 33.16791979949875, 246: 32.639097744360896, 247: 32.11027568922306, 248: 31.581453634085207, 249: 31.05263157894737, 250: 30.52380952380952, 251: 29.99498746867168, 252: 29.46616541353383, 253: 28.937343358395992, 254: 28.40852130325814, 255: 27.879699248120303, 256: 27.350877192982452, 257: 26.822055137844615, 258: 26.293233082706763, 259: 25.764411027568926, 260: 25.235588972431074, 261: 24.706766917293237, 262: 24.177944862155385, 263: 23.649122807017548, 264: 23.120300751879697, 265: 22.59147869674186, 266: 22.062656641604008, 267: 21.53383458646617, 268: 21.00501253132832, 269: 20.47619047619048, 270: 19.94736842105263, 271: 19.418546365914793, 272: 18.88972431077694, 273: 18.360902255639104, 274: 17.832080200501252, 275: 17.303258145363415, 276: 16.774436090225564, 277: 16.245614035087726, 278: 15.716791979949875, 279: 15.187969924812023, 280: 14.659147869674186, 281: 14.130325814536334, 282: 13.601503759398497, 283: 13.072681704260646, 284: 12.543859649122808, 285: 12.015037593984957, 286: 11.48621553884712, 287: 10.957393483709268, 288: 10.42857142857143, 289: 9.899749373433579, 290: 9.370927318295742, 291: 8.84210526315789, 292: 8.313283208020053, 293: 7.784461152882201, 294: 7.255639097744364, 295: 6.726817042606513, 296: 6.197994987468675, 297: 5.669172932330824, 298: 5.1403508771929864, 299: 4.611528822055135, 300: 4.082706766917298, 301: 3.553884711779446, 302: 3.025062656641609, 303: 2.4962406015037573, 304: 1.9674185463659057, 305: 1.4385964912280826, 306: 0.9097744360902311, 307: 0.3809523809523796, 308: -0.14786967418547192, 309: -0.676691729323295, 310: -1.2055137844611465, 311: -1.734335839598998, 312: -2.2631578947368496, 313: -2.7919799498746727, 314: -3.320802005012524, 315: -3.8496240601503757, 316: -4.378446115288227, 317: -4.907268170426079, 318: -5.436090225563902, 319: -5.964912280701753, 320: -6.493734335839605, 321: -7.022556390977456, 322: -7.5513784461152795, 323: -8.080200501253131, 324: -8.609022556390983, 325: -9.137844611528834, 326: -9.666666666666657, 327: -10.195488721804509, 328: -10.72431077694236, 329: -11.253132832080212, 330: -11.781954887218035, 331: -12.310776942355886, 332: -12.839598997493738, 333: -13.36842105263159, 334: -13.897243107769413, 335: -14.426065162907264, 336: -14.954887218045116, 337: -15.483709273182967, 338: -16.01253132832079, 339: -16.54135338345864, 340: -17.070175438596493, 341: -17.598997493734345, 342: -18.127819548872168, 343: -18.65664160401002, 344: -19.18546365914787, 345: -19.714285714285722, 346: -20.243107769423546, 347: -20.771929824561397, 348: -21.30075187969925, 349: -21.8295739348371, 350: -22.358395989974923, 351: -22.887218045112775, 352: -23.416040100250626, 353: -23.944862155388478, 354: -24.47368421052633, 355: -25.002506265664152, 356: -25.531328320802004, 357: -26.060150375939855, 358: -26.588972431077707, 359: -27.11779448621553, 360: -27.64661654135338, 361: -28.175438596491233, 362: -28.704260651629085, 363: -29.233082706766908, 364: -29.76190476190476, 365: -30.29072681704261, 366: -30.819548872180462, 367: -31.348370927318285, 368: -31.877192982456137, 369: -32.40601503759399, 370: -32.93483709273184, 371: -33.46365914786966, 372: -33.992481203007515, 373: -34.521303258145366, 374: -35.05012531328322, 375: -35.57894736842104, 376: -36.10776942355889, 377: -36.636591478696744, 378: -37.165413533834595, 379: -37.69423558897242, 380: -38.22305764411027, 381: -38.75187969924812, 382: -39.28070175438597, 383: -39.809523809523796, 384: -40.33834586466165, 385: -40.8671679197995, 386: -41.39598997493735, 387: -41.9248120300752, 388: -42.453634085213025, 389: -42.98245614035088, 390: -43.51127819548873, 391: -44.04010025062658, 392: -44.5689223057644, 393: -45.097744360902254, 394: -45.626566416040106, 395: -46.15538847117796, 396: -46.68421052631578, 397: -47.21303258145363, 398: -47.74185463659148, 399: -48.270676691729335, 400: -48.79949874686716, 401: -49.32832080200501, 402: -49.85714285714286, 403: -50.38596491228071, 404: -50.914786967418536, 405: -51.44360902255639, 406: -51.97243107769424, 407: -52.50125313283209, 408: -53.03007518796991, 409: -53.558897243107765, 410: -54.08771929824562, 411: -54.61654135338347, 412: -55.14536340852129, 413: -55.67418546365914, 414: -56.203007518796994, 415: -56.731829573934846, 416: -57.26065162907267, 417: -57.78947368421052, 418: -58.31829573934837, 419: -58.84711779448622, 420: -59.37593984962405, 421: -59.9047619047619, 422: -60.43358395989975, 423: -60.9624060150376, 424: -61.49122807017545, 425: -62.020050125313276, 426: -62.54887218045113, 427: -63.07769423558898, 428: -63.60651629072683, 429: -64.13533834586465, 430: -64.6641604010025, 431: -65.19298245614036, 432: -65.72180451127821, 433: -66.25062656641603, 434: -66.77944862155388, 435: -67.30827067669173, 436: -67.83709273182959, 437: -68.36591478696741, 438: -68.89473684210526, 439: -69.42355889724311, 440: -69.95238095238096, 441: -70.48120300751879, 442: -71.01002506265664, 443: -71.53884711779449, 444: -72.06766917293234, 445: -72.59649122807016, 446: -73.12531328320802, 447: -73.65413533834587, 448: -74.18295739348372, 449: -74.71177944862154, 450: -75.2406015037594, 451: -75.76942355889724, 452: -76.2982456140351, 453: -76.82706766917292, 454: -77.35588972431077, 455: -77.88471177944862, 456: -78.41353383458647, 457: -78.9423558897243, 458: -79.47117794486215, 459: -80.0}
dz={170: -83.36999999999998, 169: -81.24084033613445, 168: -79.1116806722689, 167: -76.98252100840338, 166: -74.8533613445378, 165: -72.72420168067228, 164: -70.59504201680673, 163: -68.46588235294121, 162: -66.33672268907563, 161: -64.20756302521008, 160: -62.078403361344556, 159: -59.94924369747898, 158: -57.820084033613455, 157: -55.690924369747904, 156: -53.56176470588238, 155: -51.4326050420168, 154: -49.30344537815125, 153: -47.17428571428573, 152: -45.04512605042015, 151: -42.91596638655463, 150: -40.78680672268908, 149: -38.65764705882356, 148: -36.52848739495798, 147: -34.39932773109243, 146: -32.270168067226905, 145: -30.141008403361326, 144: -28.011848739495804, 143: -25.882689075630253, 142: -23.75352941176473, 141: -21.624369747899152, 140: -19.49521008403363, 139: -17.36605042016808, 138: -15.2368907563025, 137: -13.107731092436978, 136: -10.978571428571428, 135: -8.849411764705906, 134: -6.720252100840327, 133: -4.5910924369748045, 132: -2.461932773109254, 131: -0.332773109243675, 130: 1.7963865546218472, 129: 3.9255462184873977, 128: 6.05470588235292, 127: 8.183865546218499, 126: 10.313025210084021, 125: 12.442184873949572, 124: 14.571344537815122, 123: 16.700504201680673, 122: 18.829663865546223, 121: 20.958823529411745, 120: 23.087983193277324, 119: 25.217142857142846, 118: 27.346302521008397, 117: 29.475462184873948, 116: 31.604621848739498, 115: 33.73378151260505, 114: 35.8629411764706, 113: 37.99210084033612, 112: 40.12126050420167, 111: 42.25042016806722, 110: 44.37957983193277, 109: 46.50873949579831, 108: 48.63789915966386, 107: 50.767058823529396, 106: 52.89621848739496, 105: 55.02537815126051, 104: 57.15453781512605, 103: 59.2836974789916, 102: 61.412857142857135, 101: 63.542016806722685, 100: 65.67117647058822, 99: 67.80033613445379, 98: 69.92949579831934, 97: 72.05865546218487, 96: 74.18781512605042, 95: 76.31697478991596, 94: 78.44613445378151, 93: 80.57529411764705, 92: 82.7044537815126, 91: 84.83361344537816, 90: 86.9627731092437, 89: 89.09193277310925, 88: 91.22109243697479, 87: 93.35025210084034, 86: 95.47941176470587, 85: 97.60857142857142, 84: 99.73773109243697, 83: 101.86689075630252, 82: 103.99605042016806, 81: 106.12521008403361, 80: 108.25436974789915, 79: 110.3835294117647, 78: 112.51268907563025, 77: 114.6418487394958, 76: 116.77100840336135, 75: 118.9001680672269, 74: 121.02932773109244, 73: 123.15848739495797, 72: 125.28764705882352, 71: 127.41680672268907, 70: 129.54596638655462, 69: 131.67512605042018, 68: 133.8042857142857, 67: 135.93344537815125, 66: 138.0626050420168, 65: 140.19176470588235, 64: 142.3209243697479, 63: 144.45008403361345, 62: 146.579243697479, 61: 148.70840336134455, 60: 150.83756302521007, 59: 152.96672268907562, 58: 155.09588235294117, 57: 157.22504201680673, 56: 159.35420168067228, 55: 161.48336134453783, 54: 163.61252100840335, 53: 165.7416806722689, 52: 167.87084033613445, 51: 170.0}
device = pydobot.Dobot(port=port, verbose=True)
(x, y, z, r, j1, j2, j3, j4) = device.pose()
cap=cv2.VideoCapture(0,cv2.CAP_DSHOW)
detector = htm.handDetector()
yaxb=0
yayb=0
while True:
    success, img = cap.read()
    img=cv2.flip(img,1)
    img = detector.findHands(img,draw=False)
    lmList = detector.findPosition(img,draw=False)
    if len(lmList) != 0:






        device.grip(LengthDetect(lmList))
        yax=lmList[0][1]
        yay=lmList[0][2]
        yaz=lmList[16][2]
        try:
            device.move_to(x, int(dx[yax]), int(dy[yay]), r, wait=False)
        except:
            pass
        
    cv2.imshow("Image", img)
    if cv2.waitKey(1) & 0xFF==ord('d'):
        
        
        device.close()
        break
cap.release()
cv2.destroyAllWindows()   
cv2.waitKey(1)
device.close()
'''
vol=np.interp(length,[21,264],[minVol,maxVol])


'''
